<!doctype html><html lang=en-us dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Install redmine on centos 7 #  Requirements #  centos 7
[root@new-redmine ~]# cat /etc/os-release NAME=&#34;CentOS Linux&#34; VERSION=&#34;7 (Core)&#34; ID=&#34;centos&#34; ID_LIKE=&#34;rhel fedora&#34; VERSION_ID=&#34;7&#34; PRETTY_NAME=&#34;CentOS Linux 7 (Core)&#34; mariadb 5.5.68
[root@new-redmine ~]# mysql --version mysql Ver 15.1 Distrib 5.5.68-MariaDB, for Linux (x86_64) using readline 5.1 rbenv installed, ruby 2.5.5
[redmine@new-redmine ~]$ rbenv --version rbenv 1.1.2-40-g62d7798 [redmine@new-redmine current]$ rbenv version 2.5.5 (set by /opt/redmine/current/.ruby-version) redmine version 4.1.1
ssh keypair setup https://docs.gitlab.com/ee/ssh/README.html">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content>
<meta property="og:description" content="Install redmine on centos 7 #  Requirements #  centos 7
[root@new-redmine ~]# cat /etc/os-release NAME=&#34;CentOS Linux&#34; VERSION=&#34;7 (Core)&#34; ID=&#34;centos&#34; ID_LIKE=&#34;rhel fedora&#34; VERSION_ID=&#34;7&#34; PRETTY_NAME=&#34;CentOS Linux 7 (Core)&#34; mariadb 5.5.68
[root@new-redmine ~]# mysql --version mysql Ver 15.1 Distrib 5.5.68-MariaDB, for Linux (x86_64) using readline 5.1 rbenv installed, ruby 2.5.5
[redmine@new-redmine ~]$ rbenv --version rbenv 1.1.2-40-g62d7798 [redmine@new-redmine current]$ rbenv version 2.5.5 (set by /opt/redmine/current/.ruby-version) redmine version 4.1.1
ssh keypair setup https://docs.gitlab.com/ee/ssh/README.html">
<meta property="og:type" content="article">
<meta property="og:url" content="http://docs.cuong-dev.ml/others/install-redmine-on-centos-7/"><meta property="article:section" content="others">
<meta property="article:modified_time" content="2022-02-27T15:14:21+07:00">
<title>Install Redmine on Centos 7 | docs.cuong-dev.ml</title>
<link rel=manifest href=/manifest.json>
<link rel=icon href=/favicon.png type=image/x-icon>
<link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous>
<script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.8cc8175bcd86157af0149a8e6bbee6476f803aaa3b5d11d0f985c6dcbb562212.js integrity="sha256-jMgXW82GFXrwFJqOa77mR2+AOqo7XRHQ+YXG3LtWIhI=" crossorigin=anonymous></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/><span>docs.cuong-dev.ml</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li>
<a href=/about-me/>About me</a>
<ul>
</ul>
</li>
<li>
<input type=checkbox id=section-a07783f405300745807d39eacf150420 class=toggle>
<label for=section-a07783f405300745807d39eacf150420 class="flex justify-between">
<a role=button>Blogs</a>
</label>
<ul>
<li>
<a href=/posts/creating-a-new-theme/>Creating a New Theme</a>
</li>
<li>
<a href=/posts/goisforlovers/>(Hu)go Template Primer</a>
</li>
<li>
<a href=/posts/hugoisforlovers/>Getting Started with Hugo</a>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-de0ecdbdbaf98b9c0960557719ae69e4 class=toggle>
<label for=section-de0ecdbdbaf98b9c0960557719ae69e4 class="flex justify-between">
<a role=button>Cloud Provider</a>
</label>
<ul>
<li>
<span>Aws</span>
<ul>
<li>
<a href=/cloud-provider/aws/extend-the-file-system-of-ebs-volumes/>Extend the File System of Ebs Volumes</a>
</li>
<li>
<a href=/cloud-provider/aws/Install-docker-docker-compose-on-AWS-EC2/>Install Docker, Docker Compose on Aws Ec2</a>
</li>
<li>
<a href=/cloud-provider/aws/install-cert-bot-ssl-letsencrypt-on-amz-linux-2/>Install Cert Bot Ssl Letsencrypt on Amz Linux 2</a>
</li>
<li>
<a href=/cloud-provider/aws/mount-new-ebs-volume-to-aws-ec2/>Mount New Ebs Volume to Aws Ec2</a>
</li>
<li>
<a href=/cloud-provider/aws/setting-swap-ec2/>Setting Swap Ec2</a>
</li>
</ul>
</li>
<li>
<span>Azure</span>
<ul>
<li>
<a href=/cloud-provider/azure/azure-new-service-update/>Azure New Service Update</a>
</li>
</ul>
</li>
<li>
<span>Gcp</span>
<ul>
<li>
<a href=/cloud-provider/gcp/mistakes-to-avoid-when-using-google-cloud/>Mistakes to Avoid When Using Google Cloud</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-72ed89028f94f588e751de2f6f0bee24 class=toggle>
<label for=section-72ed89028f94f588e751de2f6f0bee24 class="flex justify-between">
<a role=button>Ci Cd</a>
</label>
<ul>
<li>
<span>Argocd</span>
<ul>
<li>
<a href=/ci-cd/argocd/ArgoCD-cheatsheet/>Argo Cd Cheatsheet</a>
</li>
</ul>
</li>
<li>
<span>Jenkins</span>
<ul>
<li>
<a href=/ci-cd/jenkins/Jenkins-deploy-AWS-ECS/>Jenkins Deploy Aws Ecs</a>
</li>
<li>
<a href=/ci-cd/jenkins/jenkins-fix-report-cannot-view-on-browser/>Jenkins Fix Report Cannot View on Browser</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-db801fcabe18fdefdb1b34d275e81669 class=toggle>
<label for=section-db801fcabe18fdefdb1b34d275e81669 class="flex justify-between">
<a role=button>Linux</a>
</label>
<ul>
<li>
<a href=/linux/check-ssl-certificate-expiration-date-s/>Check Ssl Certificate Expiration Date S</a>
</li>
<li>
<a href=/linux/Convert-service-account-json-to-single-line/>Convert Service Account JSON to Single Line</a>
</li>
<li>
<a href=/linux/dynamic-port-mapping-for-access-ftp-server/>Dynamic Port Mapping for Access FTP Server</a>
</li>
<li>
<a href=/linux/print-all-duplicated/>Print All Duplicated</a>
</li>
<li>
<a href=/linux/quick-load-.env-file/>Quick Load .Env File</a>
</li>
<li>
<a href=/linux/writing-bash-shell-scripts-best-practice/>Writing Bash Shell Scripts Best Practice</a>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-a6282ae0427584769cba6657e1b1e677 class=toggle>
<label for=section-a6282ae0427584769cba6657e1b1e677 class="flex justify-between">
<a role=button>Databases</a>
</label>
<ul>
<li>
<a href=/databases/General-Table-Size-Information/>General Table Size Information</a>
</li>
<li>
<a href=/databases/install-postgres-client-amazon-linux-1/>Install Postgres Client Amazon Linux 1</a>
</li>
<li>
<a href=/databases/postgres-create-user-and-grant-permistions/>Postgres Create User and Grant Permistions</a>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-5b5ea5a3e4d4fc4b1d5a648e567f64dc class=toggle>
<label for=section-5b5ea5a3e4d4fc4b1d5a648e567f64dc class="flex justify-between">
<a role=button>Containers</a>
</label>
<ul>
<li>
<span>Docker</span>
<ul>
<li>
<a href=/containers/docker/Best-practices-for-building-containers/>Best Practices for Building Containers</a>
</li>
<li>
<a href=/containers/docker/checking-file-when-build-docker/>Checking File When Build Docker</a>
</li>
<li>
<a href=/containers/docker/disstroless-docker-image/>Disstroless Docker Image</a>
</li>
<li>
<a href=/containers/docker/docker-how-to-cleanup-unused-resources/>Docker How to Cleanup Unused Resources</a>
</li>
<li>
<a href=/containers/docker/quick-install-docker/>Quick Install Docker</a>
</li>
<li>
<a href=/containers/docker/remove-unused-docker-resource/>Remove Unused Docker Resource</a>
</li>
</ul>
</li>
<li>
<span>K8s</span>
<ul>
<li>
<a href=/containers/k8s/kubectl-tips-and-tricks/>Kubectl Tips and Tricks</a>
</li>
<li>
<a href=/containers/k8s/Linkerd-Cheatsheet/>Linkerd Cheatsheet</a>
</li>
<li>
<a href=/containers/k8s/quick-scale-deployment-accross-namespaces/>Quick Scale Deployment Accross Namespaces</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-5afc9cafd20c13acf538598cf7e4cf3b class=toggle>
<label for=section-5afc9cafd20c13acf538598cf7e4cf3b class="flex justify-between">
<a role=button>Observability</a>
</label>
<ul>
<li>
<span>Monitoring</span>
<ul>
<li>
<a href=/observability/monitoring/alert-manager/>Alert Manager</a>
</li>
<li>
<a href=/observability/monitoring/install-node_exporter-as-systemd/>Install Node Exporter as Systemd</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-9f5db7fc9f15ff8a71c4cce94534a865 class=toggle>
<label for=section-9f5db7fc9f15ff8a71c4cce94534a865 class="flex justify-between">
<a role=button>Secret Management</a>
</label>
<ul>
<li>
<span>Vault</span>
<ul>
<li>
<a href=/secret-management/vault/Vault-import-export-secrets/>Vault Import, Export Secrets</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-0a911fc5dbe691768c557e6a743b35ca class=toggle>
<label for=section-0a911fc5dbe691768c557e6a743b35ca class="flex justify-between">
<a role=button>Cheatsheet</a>
</label>
<ul>
<li>
<a href=/cheatsheet/bash/>Bash</a>
</li>
<li>
<a href=/cheatsheet/docker-cheatsheet/>Docker Cheatsheet</a>
</li>
<li>
<a href=/cheatsheet/grep/>Grep</a>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-523e3ee5816fa44f0cea5a47adad9fb1 class=toggle checked>
<label for=section-523e3ee5816fa44f0cea5a47adad9fb1 class="flex justify-between">
<a role=button>Others</a>
</label>
<ul>
<li>
<a href=/others/alert-slack-by-hook/>Alert Slack by Hook</a>
</li>
<li>
<a href=/others/install-redmine-on-centos-7/ class=active>Install Redmine on Centos 7</a>
</li>
</ul>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>Install Redmine on Centos 7</strong>
<label for=toc-control>
<img src=/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#requirements>Requirements</a></li>
<li><a href=#install-redmine>Install redmine</a></li>
<li><a href=#restart-server>Restart server</a></li>
</ul>
</li>
</ul>
</nav>
</aside>
</header>
<article class=markdown><h1 id=install-redmine-on-centos-7>
Install redmine on centos 7
<a class=anchor href=#install-redmine-on-centos-7>#</a>
</h1>
<h3 id=requirements>
Requirements
<a class=anchor href=#requirements>#</a>
</h3>
<p><strong>centos 7</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>[</span>root@new-redmine ~<span style=color:#f92672>]</span><span style=color:#75715e># cat /etc/os-release</span>
NAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;CentOS Linux&#34;</span>
VERSION<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;7 (Core)&#34;</span>
ID<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;centos&#34;</span>
ID_LIKE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;rhel fedora&#34;</span>
VERSION_ID<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;7&#34;</span>
PRETTY_NAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;CentOS Linux 7 (Core)&#34;</span>
</code></pre></div><p><strong>mariadb 5.5.68</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>[root@new-redmine ~]# mysql --version
mysql  Ver 15.1 Distrib 5.5.68-MariaDB, for Linux (x86_64) using readline 5.1
</code></pre></div><p><strong>rbenv installed, ruby 2.5.5</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>[redmine@new-redmine ~]$ rbenv --version
rbenv 1.1.2-40-g62d7798
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>[redmine@new-redmine current]$ rbenv version
2.5.5 (set by /opt/redmine/current/.ruby-version)
</code></pre></div><p><strong>redmine version 4.1.1</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>ssh keypair setup
</code></pre></div><p><a href=https://docs.gitlab.com/ee/ssh/README.html>https://docs.gitlab.com/ee/ssh/README.html</a></p>
<h3 id=install-redmine>
Install redmine
<a class=anchor href=#install-redmine>#</a>
</h3>
<p><strong>Install dependencies</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>sudo yum update
sudo yum install vim curl zlib-devel curl-devel openssl-devel httpd-devel apr-devel apr-util-devel mysql-devel ftp wget ImageMagick-devel gcc-c++ patch readline readline-devel zlib libyaml-devel libffi-devel make bzip2 autoconf automake libtool bison subversion sqlite-devel
sudo yum install epel-release
sudo yum install nginx
</code></pre></div><p><strong>Setup database</strong></p>
<p>install mariadb</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>sudo yum install mariadb-server
sudo systemctl start mariadb
sudo systemctl enable mariadb

mysql_secure_installation

mysql -uroot -p
</code></pre></div><p>create redmine database and setting password</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>mysql -uroot -p
MariaDB [(none)]&gt; CREATE DATABASE redmine CHARACTER SET utf8;
MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON redmine.* TO &#39;redmine&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;your-passs-&#39;;
MariaDB [(none)]&gt; FLUSH PRIVILEGES;
MariaDB [(none)]&gt; \\q
</code></pre></div><p><strong>Setup user redmine, rbenv, ruby</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>[</span>root@new-redmine ~<span style=color:#f92672>]</span><span style=color:#75715e># adduser redmine</span>

<span style=color:#f92672>[</span>root@new-redmine ~<span style=color:#f92672>]</span><span style=color:#75715e># sudo su - redmine</span>

curl -sL &lt;https://github.com/rbenv/rbenv-installer/raw/master/bin/rbenv-installer&gt; | bash -

echo <span style=color:#e6db74>&#39;export PATH=&#34;$HOME/.rbenv/bin:$PATH&#34;&#39;</span> &gt;&gt; ~/.bashrc

echo <span style=color:#e6db74>&#39;eval &#34;$(rbenv init -)&#34;&#39;</span> &gt;&gt; ~/.bashrc

source ~/.bashrc
</code></pre></div><p><strong>Setting bashrc</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>[</span>root@new-redmine current<span style=color:#f92672>]</span><span style=color:#75715e># cat /home/redmine/.bashrc</span>
<span style=color:#75715e># .bashrc</span>

<span style=color:#75715e># Source global definitions</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -f /etc/bashrc <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
	. /etc/bashrc
<span style=color:#66d9ef>fi</span>

<span style=color:#75715e># Uncomment the following line if you don&#39;t like systemctl&#39;s auto-paging feature:</span>
<span style=color:#75715e># export SYSTEMD_PAGER=</span>

export PG_DATABASE<span style=color:#f92672>=</span>redmine
export PG_USERNAME<span style=color:#f92672>=</span>redmine
export PG_PASSWORD<span style=color:#f92672>=</span>your-passs-
export PG_HOST<span style=color:#f92672>=</span>localhost

export RACK_ENV<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;production&#34;</span>
export RAILS_ENV<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;production&#34;</span>

<span style=color:#75715e># User specific aliases and functions</span>
export PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/.rbenv/bin:</span>$PATH<span style=color:#e6db74>&#34;</span>
eval <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>rbenv init -<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
export PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$HOME<span style=color:#e6db74>/.rbenv/bin:</span>$PATH<span style=color:#e6db74>&#34;</span>
</code></pre></div><p><strong>Setting nginx</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>[</span>root@new-redmine ~<span style=color:#f92672>]</span><span style=color:#75715e># cat /etc/nginx/conf.d/redmine.conf</span>
upstream redmine <span style=color:#f92672>{</span>
     server unix:///opt/redmine/shared/tmp/redmine-puma.sock;
<span style=color:#f92672>}</span>

server <span style=color:#f92672>{</span>
    listen 80;
    server_name xxxxxx;
    root /opt/redmine/current/public;

        location / <span style=color:#f92672>{</span>
                try_files $uri @redmine;
        <span style=color:#f92672>}</span>

        location @redmine <span style=color:#f92672>{</span>
                proxy_set_header  X-Forwarded-For $remote_addr;
                proxy_pass &lt;http://redmine&gt;;
        <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>
[root@new-redmine ~]# service nginx start


</code></pre></div><h3 id=restart-server>
Restart server
<a class=anchor href=#restart-server>#</a>
</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>[root@new-redmine current]# service nginx restart
[root@new-redmine current]# service mariadb restart
</code></pre></div></article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#requirements>Requirements</a></li>
<li><a href=#install-redmine>Install redmine</a></li>
<li><a href=#restart-server>Restart server</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
</main>
</body>
</html>